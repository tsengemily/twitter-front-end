(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c07e4e64"],{"4c90":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AdminMain-container"},[t.isLoading?n("Spinner"):[n("div",{staticClass:"row"},[n("AdminNavbar",{attrs:{TweetList:t.TweetList,UserList:t.UserList}}),n("div",{staticClass:"AdminMain-main"},[n("div",{staticClass:"AdminMain-header"},[t._v("推文清單")]),t._l(t.tweetData,(function(e){return n("div",{key:e.id,staticClass:"AdminMain-tweet"},[n("img",{staticClass:"AdminMain-tweet-userPhoto",attrs:{src:e.User.avatar,alt:""}}),n("div",{staticClass:"AdminMain-tweet-msg"},[n("div",{staticClass:"AdminMain-tweet-msg-name"},[t._v(" "+t._s(e.User.name)),n("span",{staticClass:"AdminMain-tweet-msg-name-app"},[t._v(" @apple．"+t._s(t._f("fromNow")(e.updatedAt)))])]),n("div",{staticClass:"AdminMain-tweet-msg-name-msg"},[t._v(" "+t._s(t._f("textCount")(e.description))+" ")])]),n("div",{staticClass:"AdminMain-tweet-delete"},[n("i",{staticClass:"far fa-trash-alt AdminMain-tweet-delete-icon",staticStyle:{"font-size":"20px"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deleteTweet(e.id)}}})])])}))],2)],1)]],2)},i=[],s=n("5530"),r=n("2909"),o=n("1da1"),c=(n("96cf"),n("b0c0"),n("4de4"),n("5422")),l=n("2375"),u=n("1602"),d=n("2fa3"),m=n("2f62"),f=n("c1df"),v=n.n(f),w={name:"AdminMain",components:{AdminNavbar:c["a"],Spinner:l["a"]},data:function(){return{TweetList:!1,UserList:!1,tweetData:[],isLoading:!0}},created:function(){var t=this.$router.history.current.name;"AdminMain"===t&&(this.TweetList=!0,this.UserList=!1),this.fetchAdminMain()},methods:{fetchAdminMain:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,u["a"].AdminMain();case 4:n=e.sent,t.tweetData=Object(r["a"])(n.data),console.log(t.tweetData),t.isLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isLoading=!1,d["a"].fire({icon:"error",title:"無法取得資料，請稍後再試"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},deleteTweet:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,i,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a={TweetId:t},i=a.TweetId,console.log({TweetId:i}),n.next=5,u["a"].deleteTweet({TweetId:i});case 5:if(s=n.sent,r=s.data,"success"===r.status){n.next=9;break}throw new Error(r.message);case 9:e.tweetData=e.tweetData.filter((function(t){return t.id!==i})),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),d["a"].fire({icon:"error",title:"資料無法刪除，請稍後再試"});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()}},computed:Object(s["a"])({},Object(m["b"])(["currentUser","isAuthenticated"])),filters:{fromNow:function(t){return t?v()(t).fromNow():"-"},textCount:function(t){return t.length>50?(t=t.substr(0,50),t+="...",t):t}}},p=w,A=(n("9e83"),n("2877")),C=Object(A["a"])(p,a,i,!1,null,"dd6f22b6",null);e["default"]=C.exports},5422:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav AdminNavbar-container"},[a("ul",{staticClass:"nav mb-4 AdminNav-container"},[a("router-link",{attrs:{to:"/admin_main"}},[a("li",{staticClass:"nav-item AdminNav-container-icon"},[a("img",{staticClass:"AdminNav-container-icon-AClogo",attrs:{src:n("91df"),alt:""}})])]),a("li",{staticClass:"nav-item AdminNav-container-tweetList"},[a("router-link",{staticClass:"AdminNav-container-tweetList-fontColor",class:{routerLinkActive:t.TweetList},attrs:{to:"/admin_main"}},[a("i",{staticClass:"fas fa-home AdminNav-container-tweetList-fontColor-linkStyle",staticStyle:{"font-size":"25px"}},[a("span",{staticClass:"AdminNav-container-tweetList-fontColor-linkStyle-fontStyle"},[t._v("推文清單")])])])],1),a("li",{staticClass:"nav-item AdminNav-container-userList"},[a("router-link",{staticClass:"AdminNav-container-userList-fontColor",class:{routerLinkActive:t.UserList},attrs:{to:"/admin_users"}},[a("i",{staticClass:"far fa-user link-style AdminNav-container-userList-fontColor-linkStyle",staticStyle:{"font-size":"25px"}},[a("span",{staticClass:"AdminNav-container-userList-fontColor-linkStyle-fontStyle"},[t._v("使用者列表")])])])],1),a("li",{staticClass:"nav-item log-out log-out-style"},[a("i",{staticClass:"fas fa-sign-out-alt",staticStyle:{"font-size":"25px"},on:{click:t.logout}},[a("span",[t._v("登出")])])])],1)])},i=[],s={name:"Admin-Navbar",props:{TweetList:{type:Boolean,default:!1,required:!0},UserList:{type:Boolean,default:!1,required:!0}},data:function(){return{}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin")}},create:function(){}},r=s,o=(n("5765"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"9487e8a4",null);e["a"]=c.exports},"572c":function(t,e,n){},5765:function(t,e,n){"use strict";n("572c")},"977b":function(t,e,n){},"9e83":function(t,e,n){"use strict";n("977b")}}]);
//# sourceMappingURL=chunk-c07e4e64.9c568a4c.js.map