(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12525184"],{3530:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("img",{staticClass:"ac-logo",attrs:{src:s("91df"),alt:""}}),e("h2",{staticClass:"row justify-content-center"},[t._v("後台登入")]),e("form",{on:{submit:function(a){return a.preventDefault(),a.stopPropagation(),t.handleSubmit(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"account"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{id:"accout",type:"text",placeholder:"帳號",required:""},domProps:{value:t.account},on:{input:function(a){a.target.composing||(t.account=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"密碼",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),e("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" 登入 ")])]),e("div",{staticClass:"foot-container"},[e("router-link",{staticClass:"btn-link",attrs:{to:"/login"}},[t._v("前台登入")])],1)])},r=[],n=s("1da1"),o=(s("96cf"),s("7696")),c=s("2fa3"),i={name:"Admin",data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.account&&t.password){a.next=4;break}return c["a"].fire({icon:"warning",title:"請填入 email 和 password"}),a.abrupt("return");case 4:return t.isProcessing=!0,a.next=7,o["a"].Admin({account:t.account,password:t.password});case 7:if(s=a.sent,e=s.data,"success"===e.status){a.next=11;break}throw new Error(e.message);case 11:localStorage.setItem("token",e.token),localStorage.setItem("userId",e.user.id),t.$store.commit("setCurrentUser",e.user),t.$router.push({path:"/admin_main"}),a.next=23;break;case 17:a.prev=17,a.t0=a["catch"](0),t.account="",t.password="",c["a"].fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"}),t.isProcessing=!1;case 23:case"end":return a.stop()}}),a,null,[[0,17]])})))()}}},u=i,d=(s("e29e"),s("2877")),l=Object(d["a"])(u,e,r,!1,null,"4b5ed69a",null);a["default"]=l.exports},7696:function(t,a,s){"use strict";var e=s("2fa3");a["a"]={signIn:function(t){var a=t.account,s=t.password;return e["b"].post("/users/login",{account:a,password:s})},Admin:function(t){var a=t.account,s=t.password;return e["b"].post("/admin/login",{account:a,password:s})}}},d3d3:function(t,a,s){},e29e:function(t,a,s){"use strict";s("d3d3")}}]);
//# sourceMappingURL=chunk-12525184.d015b216.js.map