(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af38653"],{1384:function(e,t,r){"use strict";r("776c")},2032:function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},2375:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"},[r("div",{staticClass:"bouncing-loader"},[r("div"),r("div"),r("div")])])}],a=(r("ef0c"),r("2877")),s={},i=Object(a["a"])(s,o,n,!1,null,"35d9a48c",null);t["a"]=i.exports},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var o=r("6795"),n=r("e132"),a=r("a3f3"),s=r("5631");function i(e){return o(e)||n(e)||a(e)||s()}},"4df4":function(e,t,r){"use strict";var o=r("0366"),n=r("7b0b"),a=r("9bdd"),s=r("e95a"),i=r("50c4"),l=r("8418"),c=r("35a1");e.exports=function(e){var t,r,u,f,d,p,v=n(e),w="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,m=void 0!==b,g=c(v),x=0;if(m&&(b=o(b,h>2?arguments[2]:void 0,2)),void 0==g||w==Array&&s(g))for(t=i(v.length),r=new w(t);t>x;x++)p=m?b(v[x],x):v[x],l(r,x,p);else for(f=g.call(v),d=f.next,r=new w;!(u=d.call(f)).done;x++)p=m?a(f,b,[u.value,x],!0):u.value,l(r,x,p);return r.length=x,r}},5631:function(e,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"583d":function(e,t,r){},6795:function(e,t,r){var o=r("2032");function n(e){if(Array.isArray(e))return o(e)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"713e":function(e,t,r){},7384:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[e.isLoading?r("Spinner"):[r("div",{staticClass:"row"},[r("div",{staticClass:"left"},[r("Navbar",{attrs:{isSetting:e.isSetting,MainPage:e.MainPage,PersonalInfo:e.PersonalInfo,ChatRoom:e.ChatRoom}})],1),r("div",{staticClass:"main"},[r("UserHeader",{attrs:{"user-id":e.user.id,"user-name":e.user.name,"user-tweets-count":e.user.tweetCount}}),r("ul",{staticClass:"nav"},[r("li",{staticClass:"nav-item active"},[e._v("跟隨者")]),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"link-btn",attrs:{to:{name:"user-following",params:{id:e.user.id}}}}),e._v(" 正在跟隨 ")],1)]),e._l(e.followers,(function(e){return r("UserFollowerCard",{key:e.followerId,attrs:{"initial-follower":e}})})),e.followers.length<1?r("div",{staticClass:"no-data"},[e._v("沒有跟隨者")]):e._e()],2),r("div",{staticClass:"right"},[r("div",{staticClass:"top-users-container"},[r("h1",{staticClass:"top-users-title"},[e._v("跟隨誰")]),e._l(e.topUsers,(function(e){return r("Top10User",{key:e.id,attrs:{"initial-top-user":e}})})),r("div",{staticClass:"top-users-more"},[e._v("顯示更多")])],2)])])]],2)},n=[],a=r("1da1"),s=r("5530"),i=(r("96cf"),r("b0c0"),r("d178")),l=r("3e69"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-container d-flex"},[[r("div")],r("router-link",{attrs:{to:{name:"user",params:{id:e.follower.followerId}}}},[r("img",{staticClass:"user-avatar",attrs:{src:e.follower.follower.avatar}})]),r("div",[r("h1",{staticClass:"user-name"},[e._v(" "+e._s(e.follower.follower.name)+" ")]),r("p",{staticClass:"user-account ml-2"},[e._v(" @"+e._s(e.follower.follower.account)+" ")]),e.follower.isFollowed?[r("button",{staticClass:"follow-btn following",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteFollow(e.follower.followerId)}}},[e._v(" 正在跟隨 ")])]:[r("button",{staticClass:"follow-btn follow",class:{disable:e.follower.followerId===e.currentUser.id},attrs:{disabled:e.follower.followerId===e.currentUser.id},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollow()}}},[e._v(" "+e._s(e.follower.followerId===e.currentUser.id?"無法跟隨自己":"跟隨")+" ")])],r("p",{staticClass:"post-txt"},[e._v(" "+e._s(e.follower.follower.introduction)+" ")])],2)],2)},u=[],f=r("2f62"),d=r("1602"),p=r("2fa3"),v={props:{initialFollower:{type:Object,require:!0}},data:function(){return{follower:this.initialFollower}},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{addFollow:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].addFollow({id:e.follower.followerId});case 3:if(r=t.sent,o=r.data,"success"===o.status){t.next=7;break}throw new Error(o.message);case 7:e.follower=Object(s["a"])(Object(s["a"])({},e.follower),{},{isFollowed:!0}),p["a"].fire({icon:"success",title:"新增跟隨成功"}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),p["a"].fire({icon:"error",title:"無法新增跟隨，請稍後再試"}),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},deleteFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].deleteFollow({userId:e});case 3:if(o=r.sent,n=o.data,"success"===n.status){r.next=7;break}throw new Error(n.message);case 7:t.follower=Object(s["a"])(Object(s["a"])({},t.follower),{},{isFollowed:!1}),p["a"].fire({icon:"success",title:"取消跟隨成功"}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),p["a"].fire({icon:"error",title:"無法取消跟隨，請稍後再試"}),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()}}},w=v,h=(r("1384"),r("2877")),b=Object(h["a"])(w,c,u,!1,null,"093826d6",null),m=b.exports,g=r("1ed3"),x=r("2375"),_={name:"UserFollower",components:{Navbar:i["a"],UserHeader:l["a"],UserFollowerCard:m,Top10User:g["a"],Spinner:x["a"]},data:function(){return{user:{id:-1,name:"",tweetCount:0},followers:[],topUsers:[],isLoading:!0,MainPage:!1,isSetting:!1,PersonalInfo:!1,ChatRoom:!1}},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),created:function(){var e=this.$route.params.id;this.fetchUser({userId:e}),this.fetchFollower({userId:e}),this.fetchTopUsers();var t=this.$router.history.current.name;"user-follower"===t&&e===this.currentUser.id&&(this.MainPage=!1,this.isSetting=!1,this.PersonalInfo=!0,this.ChatRoom=!1)},methods:{fetchUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n,a,i,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.userId,r.prev=1,t.isLoading=!0,r.next=5,d["a"].get({userId:o});case 5:n=r.sent,a=n.data,i=a.id,l=a.name,c=a.tweetCount,t.user=Object(s["a"])(Object(s["a"])({},t.user),{},{id:i,name:l,tweetCount:c}),t.isLoading=!1,r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](1),t.isLoading=!1,console.log("error",r.t0),p["a"].fire({icon:"error",title:"載入資料失敗，請稍後再試"});case 17:case"end":return r.stop()}}),r,null,[[1,12]])})))()},fetchFollower:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.userId,r.prev=1,t.isLoading=!0,r.next=5,d["a"].getFollowers({userId:o});case 5:n=r.sent,a=n.data,t.followers=a,t.isLoading=!1,r.next=16;break;case 11:r.prev=11,r.t0=r["catch"](1),t.isLoading=!1,console.log("error",r.t0),p["a"].fire({icon:"error",title:"載入資料失敗，請稍後再試"});case 16:case"end":return r.stop()}}),r,null,[[1,11]])})))()},fetchTopUsers:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,d["a"].getUsersTop();case 4:r=t.sent,o=r.data,e.topUsers=o,e.isLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,console.log("error",t.t0),p["a"].fire({icon:"error",title:"載入資料失敗，請稍後再試"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},beforeRouteUpdate:function(e,t,r){var o=e.params.id;this.fetchUser({userId:o}),this.fetchFollower({userId:o}),this.fetchTopUsers();var n=this.$router.history.current.name;"user-follower"===n&&o===this.currentUser.id&&(this.MainPage=!1,this.isSetting=!1,this.PersonalInfo=!0,this.ChatRoom=!1),r()}},C=_,y=(r("dbc4"),Object(h["a"])(C,o,n,!1,null,"27886d12",null));t["default"]=y.exports},"776c":function(e,t,r){},"9bdd":function(e,t,r){var o=r("825a"),n=r("2a62");e.exports=function(e,t,r,a){try{return a?t(o(r)[0],r[1]):t(r)}catch(s){throw n(e),s}}},a3f3:function(e,t,r){r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var o=r("2032");function n(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},a630:function(e,t,r){var o=r("23e7"),n=r("4df4"),a=r("1c7e"),s=!a((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:s},{from:n})},d28b:function(e,t,r){var o=r("746f");o("iterator")},dbc4:function(e,t,r){"use strict";r("713e")},e132:function(e,t,r){function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630"),e.exports=o,e.exports["default"]=e.exports,e.exports.__esModule=!0},ef0c:function(e,t,r){"use strict";r("583d")},fb6a:function(e,t,r){"use strict";var o=r("23e7"),n=r("861d"),a=r("e8b5"),s=r("23cb"),i=r("50c4"),l=r("fc6a"),c=r("8418"),u=r("b622"),f=r("1dde"),d=f("slice"),p=u("species"),v=[].slice,w=Math.max;o({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,o,u,f=l(this),d=i(f.length),h=s(e,d),b=s(void 0===t?d:t,d);if(a(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(f,h,b);for(o=new(void 0===r?Array:r)(w(b-h,0)),u=0;h<b;h++,u++)h in f&&c(o,u,f[h]);return o.length=u,o}})}}]);
//# sourceMappingURL=chunk-2af38653.314f0830.js.map